from langchain_community.document_loaders import PyPDFLoader
from langchain.text_splitter import RecursiveCharacterTextSplitter
from langchain.schema import Document

PDF_PATH = "1. Self-Help Author Samuel Smiles.pdf"

# =========================
# 1. LOAD PDF
# =========================
loader = PyPDFLoader(PDF_PATH)
pages = loader.load()

def split_doc(pages):
    splitter = RecursiveCharacterTextSplitter(
        chunk_size=500,
        chunk_overlap=100
    )
    return splitter.split_documents(pages)
for i, chunk in enumerate(chunks[:5]):  # only first 5 chunks for preview
    print(f"\n--- Chunk {i} ---")
    print(chunk.page_content[:300], "...")
    print(f"Length: {len(chunk.page_content)}")